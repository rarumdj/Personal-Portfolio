import { motion } from "framer-motion";
import React, { useEffect, useRef, useState } from "react";
import NavLinks from "./NavLinks";

// open: {
//     clipPath: `circle(1000px at 40px 40px)`,
//     transition: {
//       duration: 0.4,
//     },
//   },
//   closed: {
//     clipPath: `circle(30px at 40px 40px)`,
//     transition: {
//       duration: 0.4,
//       delay: 0.4,
//     },
//   },

const NavBar = ({ active }) => {
  const ref = useRef();

  const [click, setClick] = useState(false);

  const handleClick = () => {
    setClick(!click);
  };

  const variants = {
    open: {
      scale: 1,
      opacity: 1,
      x: 0,
    },
    closed: {
      scale: 0,
      opacity: 0,
      x: "-100%",
    },
  };

  if (click) {
    document.body.classList.add("no-scroll");
  } else {
    document.body.classList.remove("no-scroll");
  }

  useEffect(() => {
    const checkIfClickedOutside = (e) => {
      // If the menu is open and the clicked target is not within the menu,
      // then close the menu
      if (click && ref.current && !ref.current.contains(e.target)) {
        setClick(false);
      }
    };

    document.addEventListener("mousedown", checkIfClickedOutside);

    return () => {
      // Cleanup the event listener
      document.removeEventListener("mousedown", checkIfClickedOutside);
    };
  }, [click]);

  return (
    <nav ref={ref} className={`top-0 left-0 right-0 z-50 md:fixed`}>
      <div className="lg:px-28 px-12 md:pt-16 pt-10 relative z-50 flex justify-between">
        <a href="/" className="invert">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            data-name="Layer 1"
            viewBox="0 0 641.42 533.22"
            width="42"
            height="42"
          >
            <path
              fill="#272727"
              d="M44.55 0c22.82,0 40.3,4.06 52.45,12.18 12.14,8.12 18.21,20.74 18.21,37.85 0,10.68 -2.45,19.35 -7.35,26 -4.9,6.65 -11.96,11.88 -21.18,15.69 3.07,3.8 6.29,8.16 9.65,13.06l0.63 0.92c-9.29,0.34 -19.29,0.83 -30,1.47 -2.88,0.17 -5.76,0.36 -8.61,0.58 -2.41,-3.42 -4.83,-6.57 -7.23,-9.44l-16.9 0 0 11.76c-11.27,1.33 -22.31,3 -33.12,5l-1.11 -111.13c7.46,-1.46 15.18,-2.49 23.15,-3.07 7.97,-0.59 15.11,-0.88 21.4,-0.88zm1.97 29.19c-2.49,0 -4.72,0.07 -6.69,0.22 -1.97,0.15 -3.84,0.29 -5.59,0.44l0 41.26 9.65 0c12.87,0 22.09,-1.61 27.65,-4.83 5.56,-3.22 8.34,-8.7 8.34,-16.46 0,-7.46 -2.82,-12.77 -8.45,-15.91 -5.63,-3.14 -13.93,-4.72 -24.9,-4.72zm152.51 82.63l0 -6.48c-1.31,-0.29 -3.29,-0.59 -5.92,-0.88 -2.63,-0.29 -5.05,-0.44 -7.24,-0.44 -3.08,0 -5.96,0.18 -8.67,0.55 -2.71,0.37 -5.08,1.06 -7.13,2.09 -0.41,0.2 -0.8,0.42 -1.17,0.65 -11.49,-1.21 -23.41,-1.91 -35.73,-2.11 0.53,-1.42 1.17,-2.76 1.9,-4.03 2.71,-4.68 6.33,-8.41 10.86,-11.19 4.54,-2.78 9.73,-4.79 15.58,-6.03 5.85,-1.25 11.92,-1.87 18.21,-1.87 4.24,0 8.01,0.18 11.3,0.55 3.29,0.36 5.96,0.84 8.01,1.43l0 -3.07c0,-5.56 -1.68,-10.02 -5.05,-13.39 -3.36,-3.37 -9.22,-5.05 -17.56,-5.05 -5.56,0 -11.04,0.4 -16.46,1.21 -5.41,0.8 -10.09,1.94 -14.04,3.4l-4.17 -26.34c1.9,-0.59 4.28,-1.21 7.13,-1.86 2.85,-0.66 5.96,-1.25 9.33,-1.76 3.36,-0.51 6.91,-0.95 10.64,-1.32 3.73,-0.36 7.5,-0.55 11.3,-0.55 9.66,0 17.7,1.1 24.14,3.29 6.44,2.19 11.59,5.34 15.47,9.44 3.88,4.1 6.62,9.07 8.23,14.92 1.61,5.85 2.41,12.36 2.41,19.53l0 37.35c-3.3,-1.07 -6.66,-2.08 -10.07,-3.03 -6.91,-1.91 -14.01,-3.58 -21.31,-5.02zm130.57 -44.44c-2.92,-0.73 -6.36,-1.5 -10.31,-2.31 -3.95,-0.8 -8.19,-1.21 -12.73,-1.21 -2.05,0 -4.5,0.18 -7.35,0.55 -2.85,0.36 -5.01,0.77 -6.47,1.21l0 87.7c-9.94,-8.16 -20.84,-15.26 -32.7,-21.27l0 -87.49c5.85,-2.05 12.77,-3.99 20.74,-5.82 7.97,-1.83 16.86,-2.74 26.66,-2.74 1.76,0 3.87,0.11 6.36,0.33 2.49,0.22 4.97,0.51 7.46,0.88 2.49,0.36 4.97,0.8 7.46,1.32 2.49,0.51 4.61,1.13 6.36,1.86l-5.49 26.99zm121.57 82.51c-5.56,1.61 -12.72,3.11 -21.5,4.5 -8.78,1.39 -17.99,2.08 -27.65,2.08 -9.8,0 -17.96,-1.31 -24.47,-3.95 -6.51,-2.63 -11.67,-6.33 -15.47,-11.08 -3.8,-4.75 -6.51,-10.42 -8.12,-17 -1.61,-6.59 -2.41,-13.82 -2.41,-21.72l0 -64.3 32.7 0 0 60.35c0,10.53 1.39,18.14 4.17,22.82 2.78,4.68 7.97,7.02 15.58,7.02 2.34,0 4.83,-0.11 7.46,-0.33 2.63,-0.22 4.97,-0.47 7.02,-0.77l0 -89.09 32.7 0 0 111.48zm94.14 -57.27c0,-10.53 -1.35,-17.99 -4.06,-22.38 -2.71,-4.39 -7.35,-6.58 -13.93,-6.58 -2.05,0 -4.17,0.11 -6.36,0.33 -2.19,0.22 -4.31,0.48 -6.36,0.77l0 89.09 -32.7 0 0 -111.48c2.78,-0.73 6.03,-1.5 9.77,-2.3 3.73,-0.81 7.68,-1.54 11.85,-2.2 4.17,-0.66 8.45,-1.17 12.84,-1.54 4.39,-0.36 8.7,-0.55 12.95,-0.55 8.34,0 15.11,1.06 20.3,3.18 5.19,2.12 9.47,4.64 12.84,7.57 4.68,-3.36 10.06,-6 16.13,-7.9 6.07,-1.9 11.67,-2.85 16.79,-2.85 9.21,0 16.79,1.28 22.71,3.84 5.92,2.56 10.64,6.18 14.15,10.86 3.51,4.68 5.92,10.24 7.24,16.68 1.32,6.44 1.97,13.6 1.97,21.5l0 21.02 -32.7 0 0 -17.07c0,-10.53 -1.36,-17.99 -4.06,-22.38 -2.7,-4.39 -7.35,-6.58 -13.93,-6.58 -1.75,0 -4.21,0.44 -7.35,1.31 -3.14,0.88 -5.74,1.97 -7.79,3.29 1.02,3.36 1.68,6.91 1.97,10.64 0.29,3.73 0.44,7.72 0.44,11.96l0 18.83 -32.7 0 0 -17.07z"
            />
            <path
              fill="#272727"
              d="M92.43 450.67c4.29,0.39 9.27,0.68 14.92,0.88 5.66,0.2 12.39,0.29 20.2,0.29 45.66,0 79.52,-11.51 101.57,-34.54 22.05,-23.03 33.07,-54.83 33.07,-95.42 0,-42.54 -10.54,-74.73 -31.61,-96.59 -21.07,-21.86 -54.44,-32.78 -100.1,-32.78 -6.24,0 -12.68,0.1 -19.32,0.29 -6.63,0.2 -12.88,0.68 -18.73,1.46l0 256.4zm264.01 -128.79c0,35.12 -5.46,65.76 -16.39,91.91 -10.93,26.15 -26.44,47.81 -46.54,64.98 -20.1,17.17 -44.59,30.05 -73.47,38.64 -28.88,8.59 -61.27,12.88 -97.17,12.88 -16.39,0 -35.51,-0.68 -57.37,-2.05 -21.86,-1.37 -43.32,-4.2 -64.39,-8.49l0 -395.14c21.07,-3.9 43.02,-6.54 65.86,-7.9 22.83,-1.37 42.44,-2.05 58.83,-2.05 34.73,0 66.24,3.9 94.54,11.71 28.3,7.81 52.59,20.1 72.88,36.88 20.29,16.78 35.9,38.25 46.83,64.39 10.93,26.15 16.39,57.56 16.39,94.25zm284.5 66.74c0,19.9 -2.25,38.64 -6.73,56.2 -4.49,17.56 -12.29,32.88 -23.42,45.95 -11.12,13.07 -26.15,23.42 -45.07,31.02 -18.93,7.61 -42.83,11.42 -71.71,11.42 -26.54,0 -49.37,-3.22 -68.49,-9.66 -19.12,-6.44 -34.93,-13.95 -47.42,-22.54l30.44 -70.83c11.32,6.63 23.42,12.49 36.3,17.56 12.88,5.07 26.93,7.61 42.15,7.61 22.25,0 38.25,-5.46 48,-16.39 9.75,-10.93 14.64,-29.27 14.64,-55.02l0 -264.6 91.32 0 0 269.28z"
            />
          </svg>
        </a>
        <button onClick={handleClick}>
          <motion.i
            whileInView={{ opacity: [0, 1] }}
            whileTap={{ scale: [1, 0, 1] }}
            transition={{ ease: "easeInOut" }}
            className={`${
              click ? "gg-close" : "gg-menu-left"
            } text-gray-900 invert`}
          ></motion.i>
        </button>
      </div>
      <motion.nav
        initial={false}
        animate={click ? "open" : "closed"}
        variants={variants}
        className={`px-12 absolute md:ml-auto md:right-16 md:top-12 md:w-80 md:h-96 w-screen h-screen top-0 z-10 bg-white shadow-lg flex justify-around flex-col`}
      >
        <ul className="md:text-xl md:leading-loose text-2xl leading-loose md:mt-12 mt-20 text-blue-600">
          {NavLinks.filter((name) => name.title !== "Home").map((items, i) => (
            <li key={i}>
              <a href={`#${items.url}`} onClick={() => setClick(false)}>
                {items.title}
              </a>
            </li>
          ))}
        </ul>
        <div className="m-0 space-y-2">
          <span className="md:text-xl text-2xl text-gray-400 uppercase">
            Say Hello
          </span>
          <ul className="md:text-xl md:leading-loose text-2xl text-blue-600 leading-loose">
            <li><a href="mailto:davemoses3@gmail.com">davemoses3@gmail.com</a></li>
          </ul>
          <ul className="flex md:hidden flex-row space-x-3">
            <li>
              <a href="http://www.github.com/rarumdj" target="_blank" rel="noopener noreferrer">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  data-name="Layer 1"
                  viewBox="0 0 24 24"
                  height="18"
                  width="18"
                >
                  <path
                    className="fill-gray-900"
                    d="M10.07031,20.50291a1.00008,1.00008,0,0,0-1.18115-.9834c-1.30908.24024-2.96191.27637-3.40137-.958a5.70754,5.70754,0,0,0-1.83691-2.415,1.20073,1.20073,0,0,1-.1665-.10938,1,1,0,0,0-.93067-.64551H2.54883a.99965.99965,0,0,0-1,.99512c-.00391.81543.811,1.33789,1.1416,1.51465a4.4408,4.4408,0,0,1,.92383,1.35937c.36426,1.02344,1.42285,2.57617,4.46582,2.376.001.03516.00195.06836.00244.09863l.00439.26758a1,1,0,0,0,2,0l-.00488-.31836C10.07715,21.4951,10.07031,21.22068,10.07031,20.50291Zm10.667-15.126c.03174-.125.063-.26367.09034-.41992a6.27792,6.27792,0,0,0-.40821-3.293,1.002,1.002,0,0,0-.61572-.58007c-.356-.12012-1.67041-.35645-4.18408,1.25a13.86918,13.86918,0,0,0-6.354,0C6.76221.751,5.45459.9658,5.10205,1.07908a.99744.99744,0,0,0-.63135.584,6.3003,6.3003,0,0,0-.40332,3.35644c.02442.12793.05078.2461.07813.35449A6.26928,6.26928,0,0,0,2.89014,9.20311a8.42168,8.42168,0,0,0,.04248.92187c.334,4.60254,3.334,5.98438,5.42431,6.459-.04345.125-.083.25878-.11816.40039a1.00023,1.00023,0,0,0,1.94238.47851,1.6784,1.6784,0,0,1,.46778-.87793.99947.99947,0,0,0-.5459-1.74512c-3.4541-.39453-4.95362-1.80175-5.1792-4.89843a6.61076,6.61076,0,0,1-.03369-.73828,4.25769,4.25769,0,0,1,.91943-2.71289,3.022,3.022,0,0,1,.1958-.23145.99988.99988,0,0,0,.188-1.02441,3.3876,3.3876,0,0,1-.15527-.55567A4.09356,4.09356,0,0,1,6.1167,3.06346a7.54263,7.54263,0,0,1,2.415,1.17968,1.00877,1.00877,0,0,0,.82764.13282,11.77716,11.77716,0,0,1,6.17285.001,1.00549,1.00549,0,0,0,.83056-.13769,7.572,7.572,0,0,1,2.40528-1.19043,4.03977,4.03977,0,0,1,.0874,1.57812,3.205,3.205,0,0,1-.16895.60743.9999.9999,0,0,0,.188,1.02441c.07715.08691.1543.18066.22363.26855A4.12186,4.12186,0,0,1,20,9.20311a7.03888,7.03888,0,0,1-.0376.77734c-.22021,3.05566-1.72558,4.46387-5.1958,4.85937a1,1,0,0,0-.54541,1.7461,1.63079,1.63079,0,0,1,.46631.9082,3.06079,3.06079,0,0,1,.09229.81934v2.334C14.77,21.2949,14.77,21.78025,14.77,22.00291a1,1,0,1,0,2,0c0-.2168,0-.69238.00977-1.33984V18.31346a4.8815,4.8815,0,0,0-.15479-1.31153,4.25638,4.25638,0,0,0-.11621-.416,6.51258,6.51258,0,0,0,5.44531-6.42383A8.69677,8.69677,0,0,0,22,9.20311,6.13062,6.13062,0,0,0,20.7373,5.37693Z"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="http://www.facebook.com/rarumdj" target="_blank" rel="noopener noreferrer">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  data-name="Layer 1"
                  viewBox="0 0 24 24"
                  height="18"
                  width="18"
                >
                  <path
                    className="fill-gray-900"
                    d="M15.12,5.32H17V2.14A26.11,26.11,0,0,0,14.26,2C11.54,2,9.68,3.66,9.68,6.7V9.32H6.61v3.56H9.68V22h3.68V12.88h3.06l.46-3.56H13.36V7.05C13.36,6,13.64,5.32,15.12,5.32Z"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="http://www.twitter.com/rarumdj" target="_blank" rel="noopener noreferrer">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  data-name="Layer 1"
                  viewBox="0 0 24 24"
                  height="18"
                  width="18"
                >
                  <path
                    className="fill-gray-900"
                    d="M22.99121,3.9502a.99942.99942,0,0,0-1.51074-.85938,7.47956,7.47956,0,0,1-1.873.793,5.15234,5.15234,0,0,0-3.374-1.24219,5.23238,5.23238,0,0,0-5.22363,5.06348A11.03194,11.03194,0,0,1,4.19629,3.78125,1.01154,1.01154,0,0,0,3.33887,3.416a.99852.99852,0,0,0-.78516.5,5.2755,5.2755,0,0,0-.24219,4.76855l-.00195.00195a1.0411,1.0411,0,0,0-.49512.88868,3.04174,3.04174,0,0,0,.02637.43945,5.1854,5.1854,0,0,0,1.56836,3.3125.99813.99813,0,0,0-.06641.76953,5.20436,5.20436,0,0,0,2.36231,2.92187,7.46464,7.46464,0,0,1-3.58985.44825.99975.99975,0,0,0-.665,1.833A12.94248,12.94248,0,0,0,8.46,21.36133,12.7878,12.7878,0,0,0,20.9248,11.998,12.82166,12.82166,0,0,0,21.46,8.35156c0-.06543,0-.13281-.001-.20019A5.76963,5.76963,0,0,0,22.99121,3.9502ZM19.68457,7.16211a.995.995,0,0,0-.2334.70215c.00977.165.00879.331.00879.4873a10.82371,10.82371,0,0,1-.4541,3.08106A10.68457,10.68457,0,0,1,8.46,19.36133a10.93791,10.93791,0,0,1-2.55078-.30078,9.47951,9.47951,0,0,0,2.94238-1.56348A1.00033,1.00033,0,0,0,8.25,15.71094a3.208,3.208,0,0,1-2.21387-.93457q.22413-.04248.44532-.10547a1.00026,1.00026,0,0,0-.08008-1.94336,3.19824,3.19824,0,0,1-2.25-1.72559,5.29929,5.29929,0,0,0,.54492.0459,1.02093,1.02093,0,0,0,.9834-.69629A.9998.9998,0,0,0,5.2793,9.21484,3.19559,3.19559,0,0,1,3.85547,6.542c0-.0664.00195-.13281.00586-.19824a13.01365,13.01365,0,0,0,8.209,3.47949,1.02046,1.02046,0,0,0,.81739-.3584,1.00037,1.00037,0,0,0,.206-.86816,3.15653,3.15653,0,0,1-.08691-.72852A3.23,3.23,0,0,1,16.2334,4.6416a3.18428,3.18428,0,0,1,2.34472,1.02051A.993.993,0,0,0,19.499,5.96a9.27073,9.27073,0,0,0,1.21192-.32226A6.68126,6.68126,0,0,1,19.68457,7.16211Z"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="http://www.instagram.com/rarumdj" target="_blank" rel="noopener noreferrer">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  data-name="Layer 1"
                  viewBox="0 0 24 24"
                  height="18"
                  width="18"
                >
                  <path
                    className="fill-gray-900"
                    d="M17.34,5.46h0a1.2,1.2,0,1,0,1.2,1.2A1.2,1.2,0,0,0,17.34,5.46Zm4.6,2.42a7.59,7.59,0,0,0-.46-2.43,4.94,4.94,0,0,0-1.16-1.77,4.7,4.7,0,0,0-1.77-1.15,7.3,7.3,0,0,0-2.43-.47C15.06,2,14.72,2,12,2s-3.06,0-4.12.06a7.3,7.3,0,0,0-2.43.47A4.78,4.78,0,0,0,3.68,3.68,4.7,4.7,0,0,0,2.53,5.45a7.3,7.3,0,0,0-.47,2.43C2,8.94,2,9.28,2,12s0,3.06.06,4.12a7.3,7.3,0,0,0,.47,2.43,4.7,4.7,0,0,0,1.15,1.77,4.78,4.78,0,0,0,1.77,1.15,7.3,7.3,0,0,0,2.43.47C8.94,22,9.28,22,12,22s3.06,0,4.12-.06a7.3,7.3,0,0,0,2.43-.47,4.7,4.7,0,0,0,1.77-1.15,4.85,4.85,0,0,0,1.16-1.77,7.59,7.59,0,0,0,.46-2.43c0-1.06.06-1.4.06-4.12S22,8.94,21.94,7.88ZM20.14,16a5.61,5.61,0,0,1-.34,1.86,3.06,3.06,0,0,1-.75,1.15,3.19,3.19,0,0,1-1.15.75,5.61,5.61,0,0,1-1.86.34c-1,.05-1.37.06-4,.06s-3,0-4-.06A5.73,5.73,0,0,1,6.1,19.8,3.27,3.27,0,0,1,5,19.05a3,3,0,0,1-.74-1.15A5.54,5.54,0,0,1,3.86,16c0-1-.06-1.37-.06-4s0-3,.06-4A5.54,5.54,0,0,1,4.21,6.1,3,3,0,0,1,5,5,3.14,3.14,0,0,1,6.1,4.2,5.73,5.73,0,0,1,8,3.86c1,0,1.37-.06,4-.06s3,0,4,.06a5.61,5.61,0,0,1,1.86.34A3.06,3.06,0,0,1,19.05,5,3.06,3.06,0,0,1,19.8,6.1,5.61,5.61,0,0,1,20.14,8c.05,1,.06,1.37.06,4S20.19,15,20.14,16ZM12,6.87A5.13,5.13,0,1,0,17.14,12,5.12,5.12,0,0,0,12,6.87Zm0,8.46A3.33,3.33,0,1,1,15.33,12,3.33,3.33,0,0,1,12,15.33Z"
                  />
                </svg>
              </a>
            </li>
            <li>
              <a href="http://www.linkedin.com/in/rarumdj" target="_blank" rel="noopener noreferrer">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  data-name="Layer 1"
                  viewBox="0 0 24 24"
                  height="18"
                  width="18"
                >
                  <path
                    className="fill-gray-900"
                    d="M17.5,8.999a5.41868,5.41868,0,0,0-2.56543.64453A.99918.99918,0,0,0,14,8.999H10a.99943.99943,0,0,0-1,1v12a.99942.99942,0,0,0,1,1h4a.99942.99942,0,0,0,1-1v-5.5a1,1,0,1,1,2,0v5.5a.99942.99942,0,0,0,1,1h4a.99942.99942,0,0,0,1-1v-7.5A5.50685,5.50685,0,0,0,17.5,8.999Zm3.5,12H19v-4.5a3,3,0,1,0-6,0v4.5H11v-10h2v.70313a1.00048,1.00048,0,0,0,1.78125.625A3.48258,3.48258,0,0,1,21,14.499Zm-14-12H3a.99943.99943,0,0,0-1,1v12a.99942.99942,0,0,0,1,1H7a.99942.99942,0,0,0,1-1v-12A.99943.99943,0,0,0,7,8.999Zm-1,12H4v-10H6ZM5.01465,1.542A3.23283,3.23283,0,1,0,4.958,7.999h.02832a3.23341,3.23341,0,1,0,.02832-6.457ZM4.98633,5.999H4.958A1.22193,1.22193,0,0,1,3.58887,4.77051c0-.7461.55957-1.22852,1.42578-1.22852A1.2335,1.2335,0,0,1,6.41113,4.77051C6.41113,5.5166,5.85156,5.999,4.98633,5.999Z"
                  />
                </svg>
              </a>
            </li>
          </ul>
        </div>
      </motion.nav>
    </nav>
  );
};

export default NavBar;
